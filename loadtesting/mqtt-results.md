Results for minimum load tests. The number of users was set to 100 with a hatch rate of 1.

Linux 4.4.0-1054-aws (ip-172-31-8-40)   04/15/2018      _x86_64_        (2 CPU)

10:35:49 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:35:50 PM     all     21.11      0.00      1.01      0.00      0.00     77.89

10:35:49 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:35:50 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:35:49 PM  active/s passive/s    iseg/s    oseg/s
10:35:50 PM      0.00      0.00    532.00    526.00

10:35:50 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:35:51 PM     all     27.86      0.00      2.49      0.00      0.00     69.65

10:35:50 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:35:51 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:35:50 PM  active/s passive/s    iseg/s    oseg/s
10:35:51 PM      0.00      0.00    709.00    700.00

10:35:51 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:35:52 PM     all     19.60      0.00      1.01      0.00      0.00     79.40

10:35:51 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:35:52 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:35:51 PM  active/s passive/s    iseg/s    oseg/s
10:35:52 PM      0.00      0.00    558.00    549.00

10:35:52 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:35:53 PM     all     43.22      0.00      2.01      0.00      0.00     54.77

10:35:52 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util

10:35:53 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:35:52 PM  active/s passive/s    iseg/s    oseg/s
10:35:53 PM      0.00      0.00   1130.00   1117.00

10:35:53 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:35:54 PM     all     30.00      0.00      4.00      0.00      0.00     66.00

10:35:53 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:35:54 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:35:53 PM  active/s passive/s    iseg/s    oseg/s
10:35:54 PM      0.00      0.00    820.00    812.00

10:35:54 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:35:55 PM     all     39.30      0.00      1.49      0.00      0.00     59.20

10:35:54 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:35:55 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:35:54 PM  active/s passive/s    iseg/s    oseg/s
10:35:55 PM      0.00      0.00    947.00    934.00

10:35:55 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:35:56 PM     all     27.50      0.00      1.00      0.00      0.00     71.50

10:35:55 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:35:56 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:35:55 PM  active/s passive/s    iseg/s    oseg/s
10:35:56 PM      0.00      0.00    637.00    630.00

10:35:56 PM  active/s passive/s    iseg/s    oseg/s
10:35:57 PM      0.00      0.00    606.00    599.00

10:35:57 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:35:58 PM     all     41.79      0.00      2.49      0.00      0.00     55.72

10:35:57 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:35:58 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:35:57 PM  active/s passive/s    iseg/s    oseg/s
10:35:58 PM      0.00      0.00   1105.00   1093.00

10:35:58 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:35:59 PM     all     35.00      0.00      2.50      0.00      0.00     62.50

10:35:58 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:35:59 PM  dev259-0      1.00      0.00      8.00      8.00      0.00      0.00      0.00      0.00

10:35:58 PM  active/s passive/s    iseg/s    oseg/s
10:35:59 PM      0.00      0.00    942.00    927.00

10:35:59 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:36:00 PM     all     38.31      0.00      1.99

10:36:02 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:36:03 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:36:02 PM  active/s passive/s    iseg/s    oseg/s
10:36:03 PM      0.00      0.00    999.00    987.00

10:36:03 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:36:04 PM     all     36.82      0.00      1.99      0.00      0.00     61.19

10:36:03 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:36:04 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:36:03 PM  active/s passive/s    iseg/s    oseg/s
10:36:04 PM      0.00      0.00    923.00    913.00

10:36:04 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:36:05 PM     all     34.17      0.00      1.51      0.00      0.00     64.32

10:36:04 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:36:05 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:36:04 PM  active/s passive/s    iseg/s    oseg/s
10:36:05 PM      0.00      0.00    963.00    951.00

10:36:05 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:36:06 PM     all     25.63      0.00      0.00      0.00      0.00     74.37


$SYS/broker/version mosquitto version 1.4.15
$SYS/broker/timestamp Wed, 28 Feb 2018 11:29:47 +0000
$SYS/broker/uptime 16929 seconds
$SYS/broker/clients/total 102
$SYS/broker/clients/maximum 418
$SYS/broker/clients/inactive 0
$SYS/broker/clients/disconnected 0
$SYS/broker/clients/active 102
$SYS/broker/clients/connected 102
$SYS/broker/clients/expired 0
$SYS/broker/messages/stored 22023
$SYS/broker/messages/received 7597190
$SYS/broker/messages/sent 9422104
$SYS/broker/subscriptions/count 4
$SYS/broker/retained messages/count 20342
$SYS/broker/heap/current 16381192
$SYS/broker/heap/maximum 39608344
$SYS/broker/publish/messages/dropped 0
$SYS/broker/publish/messages/received 151342
$SYS/broker/publish/messages/sent 1827300
$SYS/broker/publish/bytes/received 569652061
$SYS/broker/publish/bytes/sent 621897530
$SYS/broker/bytes/received 938175220
$SYS/broker/bytes/sent 339545328
$SYS/broker/connection/b827eb43623a_broker/state 1
$SYS/broker/load/messages/received/1min 41143.28
$SYS/broker/load/messages/received/5min 28442.28
$SYS/broker/load/messages/received/15min 21841.25
$SYS/broker/load/messages/sent/1min 49014.89
$SYS/broker/load/messages/sent/5min 37456.31
$SYS/broker/load/messages/sent/15min 30063.73
$SYS/broker/load/publish/sent/1min 7881.57
$SYS/broker/load/publish/sent/5min 9043.34
$SYS/broker/load/publish/sent/15min 8246.26
$SYS/broker/load/publish/received/1min 0.05
$SYS/broker/load/publish/received/5min 0.28
$SYS/broker/load/publish/received/15min 0.82
$SYS/broker/load/bytes/received/1min 4798375.34
$SYS/broker/load/bytes/received/5min 3318291.70
$SYS/broker/load/bytes/received/15min 2532297.35
$SYS/broker/load/bytes/sent/1min 1497141.39
$SYS/broker/load/bytes/sent/5min 1640475.48
$SYS/broker/load/bytes/sent/15min 1480173.23
$SYS/broker/load/sockets/1min 63.48
$SYS/broker/load/sockets/5min 61.74
$SYS/broker/load/sockets/15min 44.81
$SYS/broker/load/connections/1min 63.48
$SYS/broker/load/connections/5min 61.74
$SYS/broker/load/connections/15min 44.81
$SYS/broker/uptime 16940 seconds
$SYS/broker/clients/total 103
$SYS/broker/clients/active 103
$SYS/broker/clients/connected 103
$SYS/broker/load/messages/received/1min 44766.11
$SYS/broker/load/messages/sent/1min 51363.92
$SYS/broker/load/publish/sent/1min 6606.10
$SYS/broker/load/bytes/received/1min 5163598.05
$SYS/broker/load/bytes/sent/1min 1290324.63
$SYS/broker/load/sockets/1min 53.76
$SYS/broker/load/connections/1min 53.76
$SYS/broker/load/messages/received/5min 29678.20
$SYS/broker/load/messages/sent/5min 38377.33
$SYS/broker/load/publish/sent/5min 8727.38
$SYS/broker/load/bytes/received/5min 3450075.40
$SYS/broker/load/bytes/sent/5min 1590864.21
$SYS/broker/load/sockets/5min 59.71
$SYS/broker/load/connections/5min 59.71
$SYS/broker/load/messages/received/15min 22338.46
$SYS/broker/load/messages/sent/15min 30464.30
$SYS/broker/load/publish/sent/15min 8149.34
$SYS/broker/load/bytes/received/15min 2586311.36
$SYS/broker/load/bytes/sent/15min 1465380.94
$SYS/broker/load/sockets/15min 44.33
$SYS/broker/retained messages/count 20358
$SYS/broker/heap/current 17664984
$SYS/broker/messages/received 7608698
$SYS/broker/messages/sent 9433661
$SYS/broker/publish/messages/sent 1827349
$SYS/broker/bytes/received 939454646
$SYS/broker/bytes/sent 339593450
$SYS/broker/publish/bytes/received 570362272
$SYS/broker/publish/bytes/sent 622602126
$SYS/broker/uptime 16951 seconds
$SYS/broker/load/messages/received/1min 47516.20
$SYS/broker/load/messages/sent/1min 53041.71
$SYS/broker/load/publish/sent/1min 5532.41
$SYS/broker/load/bytes/received/1min 5606673.80
$SYS/broker/load/bytes/sent/1min 1116581.90
$SYS/broker/load/sockets/1min 44.75
$SYS/broker/load/connections/1min 44.75
$SYS/broker/load/messages/received/5min 30812.48
$SYS/broker/load/messages/sent/5min 39205.48
$SYS/broker/load/publish/sent/5min 8420.24
$SYS/broker/load/bytes/received/5min 3606996.37
$SYS/broker/load/bytes/sent/5min 1542701.70
$SYS/broker/load/sockets/5min 57.56
$SYS/broker/load/connections/5min 57.56
$SYS/broker/load/messages/received/15min 22810.34
$SYS/broker/load/messages/sent/15min 30839.86
$SYS/broker/load/publish/sent/15min 8052.72
$SYS/broker/load/bytes/received/15min 2649751.81
$SYS/broker/load/bytes/sent/15min 1450654.51
$SYS/broker/load/sockets/15min 43.80
$SYS/broker/load/connections/15min 43.80
$SYS/broker/messages/stored 22043
$SYS/broker/retained messages/count 20362
$SYS/broker/heap/current 19290768
$SYS/broker/messages/received 7619915
$SYS/broker/messages/sent 9444914
$SYS/broker/publish/messages/sent 1827385
$SYS/broker/bytes/received 940886237
$SYS/broker/bytes/sent 339639854
$SYS/broker/publish/bytes/received 571264654
$SYS/broker/publish/bytes/sent 623500303


Results for maximum load tests. The number of users was set to 140 with a hatch rate of 10.

Linux 4.4.0-1054-aws (ip-172-31-8-40)   04/15/2018      _x86_64_        (2 CPU)


10:19:39 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:40 PM     all     50.50      0.00      2.00      0.00      0.00     47.50

10:19:39 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:40 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:39 PM  active/s passive/s    iseg/s    oseg/s
10:19:40 PM      0.00      0.00   1585.00   1564.00

10:19:40 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:41 PM     all     50.51      0.00      1.53      0.00      0.00     47.96

10:19:40 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:41 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:40 PM  active/s passive/s    iseg/s    oseg/s
10:19:41 PM      0.00      0.00   1625.00   1609.00

10:19:41 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:42 PM     all     52.02      0.00      0.00      0.00      0.00     47.98

10:19:41 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:42 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:41 PM  active/s passive/s    iseg/s    oseg/s
10:19:42 PM      0.00      0.00   1652.00   1635.00

10:19:42 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:43 PM     all     51.26      0.00      1.51      0.00      0.00     47.24

10:19:42 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:43 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:42 PM  active/s passive/s    iseg/s    oseg/s
10:19:43 PM      0.00      0.00   1564.00   1550.00

10:19:43 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:44 PM     all     50.50      0.00      2.00      0.00      0.00     47.50

10:19:43 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:44 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:43 PM  active/s passive/s    iseg/s    oseg/s
10:19:44 PM      0.00      0.00   1599.00   1581.00

10:19:44 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:45 PM     all     51.78      0.00      0.51      0.00      0.00     47.72

10:19:44 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:45 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:44 PM  active/s passive/s    iseg/s    oseg/s
10:19:45 PM      0.00      0.00   1579.00   1575.00

10:19:45 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:46 PM     all     50.75      0.00      1.51      0.00      0.00     47.74

10:19:45 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:46 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:46 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:47 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:46 PM  active/s passive/s    iseg/s    oseg/s
10:19:47 PM      0.00      0.00   1647.00   1633.00

10:19:47 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:48 PM     all     51.01      0.00      2.02      0.00      0.00     46.97

10:19:47 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:48 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:47 PM  active/s passive/s    iseg/s    oseg/s
10:19:48 PM      0.00      1.00   1626.00   1610.00

10:19:48 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:49 PM     all     50.75      0.00      1.49      0.00      0.00     47.76

10:19:48 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:49 PM  dev259-0      2.00      0.00     56.00     28.00      0.00      0.00      0.00      0.00

10:19:48 PM  active/s passive/s    iseg/s    oseg/s
10:19:49 PM      0.00      0.00   1570.00   1564.00

10:19:49 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:50 PM     all     49.25      0.00      2.51      0.00      0.00     48.24

10:19:49 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:50 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:54 PM  active/s passive/s    iseg/s    oseg/s
10:19:55 PM      0.00      0.00   1566.00   1555.00

10:19:55 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:56 PM     all     50.51      0.00      1.52      0.00      0.00     47.98

10:19:55 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:56 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:55 PM  active/s passive/s    iseg/s    oseg/s
10:19:56 PM      0.00      0.00   1595.00   1583.00

10:19:56 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:57 PM     all     51.00      0.00      2.00      0.00      0.00     47.00

10:19:56 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:57 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:56 PM  active/s passive/s    iseg/s    oseg/s
10:19:57 PM      0.00      0.00   1624.00   1610.00

10:19:57 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:19:58 PM     all     51.01      0.00      1.52      0.00      0.00     47.47

10:19:57 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:19:58 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:57 PM  active/s passive/s    iseg/s    oseg/s
10:19:58 PM      0.00      0.00   1617.00   1596.00

10:19:59 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:20:00 PM     all     50.75      0.00      2.01      0.00      0.00     47.24

10:19:59 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:20:00 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:19:59 PM  active/s passive/s    iseg/s    oseg/s
10:20:00 PM      0.00      0.00   1647.00   1625.00

10:20:00 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:20:01 PM     all     51.26      0.00      1.01      0.00      0.00     47.74

10:20:00 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:20:01 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:20:00 PM  active/s passive/s    iseg/s    oseg/s
10:20:01 PM      0.00      0.00   1630.00   1627.00

10:20:01 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:20:02 PM     all     50.50      0.00      2.97      0.00      0.00     46.53

10:20:01 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:20:02 PM  dev259-0     10.00      0.00     80.00      8.00      0.00      0.00      0.00      0.00

10:20:01 PM  active/s passive/s    iseg/s    oseg/s
10:20:02 PM      0.00      0.00   1614.00   1598.00

10:20:02 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:20:03 PM     all     51.78      0.00      0.51      0.00      0.00     47.72


$SYS/broker/version mosquitto version 1.4.15
$SYS/broker/timestamp Wed, 28 Feb 2018 11:29:47 +0000
$SYS/broker/uptime 17479 seconds
$SYS/broker/clients/total 88
$SYS/broker/clients/maximum 418
$SYS/broker/clients/inactive 0
$SYS/broker/clients/disconnected 0
$SYS/broker/clients/active 88
$SYS/broker/clients/connected 88
$SYS/broker/clients/expired 0
$SYS/broker/messages/stored 23325
$SYS/broker/messages/received 7954284
$SYS/broker/messages/sent 9888347
$SYS/broker/subscriptions/count 4
$SYS/broker/retained messages/count 21644
$SYS/broker/heap/current 15216064
$SYS/broker/heap/maximum 39608344
$SYS/broker/publish/messages/dropped 0
$SYS/broker/publish/messages/received 151342
$SYS/broker/publish/messages/sent 1936537
$SYS/broker/publish/bytes/received 593697834
$SYS/broker/publish/bytes/sent 652613676
$SYS/broker/bytes/received 979606102
$SYS/broker/bytes/sent 359431995
$SYS/broker/connection/b827eb43623a_broker/state 1
$SYS/broker/load/messages/received/1min 52271.09
$SYS/broker/load/messages/received/5min 40247.95
$SYS/broker/load/messages/received/15min 30136.56
$SYS/broker/load/messages/sent/1min 66009.29
$SYS/broker/load/messages/sent/5min 51899.01
$SYS/broker/load/messages/sent/15min 40062.80
$SYS/broker/load/publish/sent/1min 13738.48
$SYS/broker/load/publish/sent/5min 11660.19
$SYS/broker/load/publish/sent/15min 9942.84
$SYS/broker/load/publish/received/1min 0.05
$SYS/broker/load/publish/received/5min 0.28
$SYS/broker/load/publish/received/15min 0.82
$SYS/broker/load/bytes/received/1min 6061968.41
$SYS/broker/load/bytes/received/5min 4677517.23
$SYS/broker/load/bytes/received/15min 3496310.73
$SYS/broker/load/bytes/sent/1min 2531196.40
$SYS/broker/load/bytes/sent/5min 2130737.51
$SYS/broker/load/bytes/sent/15min 1800265.03
$SYS/broker/load/sockets/1min 142.26
$SYS/broker/load/sockets/5min 97.07
$SYS/broker/load/sockets/15min 68.76
$SYS/broker/load/connections/1min 142.26
$SYS/broker/load/connections/5min 97.07
$SYS/broker/load/connections/15min 68.76
$SYS/broker/uptime 17490 seconds
$SYS/broker/clients/total 143
$SYS/broker/clients/active 143
$SYS/broker/clients/connected 143
$SYS/broker/load/messages/received/1min 56956.45
$SYS/broker/load/messages/sent/1min 69147.17
$SYS/broker/load/publish/sent/1min 12190.95
$SYS/broker/load/bytes/received/1min 6483226.92
$SYS/broker/load/bytes/sent/1min 2282534.80
$SYS/broker/load/sockets/1min 168.68
$SYS/broker/load/connections/1min 168.68
$SYS/broker/load/messages/received/5min 41687.84
$SYS/broker/load/messages/sent/5min 53081.44
$SYS/broker/load/publish/sent/5min 11402.40
$SYS/broker/load/bytes/received/5min 4817901.62
$SYS/broker/load/bytes/sent/5min 2091710.53
$SYS/broker/load/sockets/5min 104.38
$SYS/broker/load/connections/5min 104.38
$SYS/broker/load/messages/received/15min 30745.23
$SYS/broker/load/messages/sent/15min 40605.55
$SYS/broker/load/publish/sent/15min 9876.72
$SYS/broker/load/bytes/received/15min 3558027.72
$SYS/broker/load/bytes/sent/15min 1791111.25
$SYS/broker/load/sockets/15min 71.57
$SYS/broker/load/connections/15min 71.57
$SYS/broker/load/publish/sent/15min 9642.69
$SYS/broker/load/bytes/received/15min 3695901.56
$SYS/broker/load/bytes/sent/15min 1755861.25
$SYS/broker/load/sockets/15min 69.84
$SYS/broker/load/connections/15min 69.84
$SYS/broker/messages/stored 23459
$SYS/broker/retained messages/count 21778
$SYS/broker/heap/current 20140576
$SYS/broker/messages/received 7998636
$SYS/broker/messages/sent 9933591
$SYS/broker/publish/messages/sent 1937430
$SYS/broker/bytes/received 984576615
$SYS/broker/bytes/sent 359745403
$SYS/broker/publish/bytes/received 596481785
$SYS/broker/publish/bytes/sent 655373429
$SYS/broker/uptime 17523 seconds
$SYS/broker/load/messages/received/1min 67147.46
$SYS/broker/load/messages/sent/1min 74607.49
$SYS/broker/load/publish/sent/1min 7460.80
$SYS/broker/load/bytes/received/1min 7731561.60
$SYS/broker/load/bytes/sent/1min 1517208.39
$SYS/broker/load/sockets/1min 97.32
$SYS/broker/load/connections/1min 97.32
$SYS/broker/load/messages/received/5min 45786.59
$SYS/broker/load/messages/sent/5min 56087.51
$SYS/broker/load/publish/sent/5min 10308.98
$SYS/broker/load/bytes/received/5min 5296541.98
$SYS/broker/load/bytes/sent/5min 1921271.90
$SYS/broker/load/sockets/5min 93.51
$SYS/broker/load/connections/5min 93.51
$SYS/broker/load/messages/received/15min 32555.79
$SYS/broker/load/messages/sent/15min 42093.04
$SYS/broker/load/publish/sent/15min 9553.12


Results for load tests exceeding failure. The number of users was set to 250 with a hatch rate of 15.


Linux 4.4.0-1054-aws (ip-172-31-8-40)   04/15/2018      _x86_64_        (2 CPU)

10:31:58 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:31:59 PM     all     51.76      0.00      1.01      0.00      0.00     47.24

10:31:58 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:31:59 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:31:58 PM  active/s passive/s    iseg/s    oseg/s
10:31:59 PM      0.00      0.00   1601.00   2975.00

10:31:59 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:00 PM     all     51.00      0.00      1.50      0.00      0.00     47.50

10:31:59 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:32:00 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:31:59 PM  active/s passive/s    iseg/s    oseg/s
10:32:00 PM      0.00      0.00   1586.00   2956.00

10:32:00 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:01 PM     all     51.78      0.00      0.51      0.00      0.00     47.72

10:32:00 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:32:01 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:32:00 PM  active/s passive/s    iseg/s    oseg/s
10:32:01 PM      0.00      0.00   1567.00   2967.00

10:32:01 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:02 PM     all     51.01      0.00      1.01      0.00      0.00     47.98

10:32:01 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util


10:32:03 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:04 PM     all     52.04      0.00      0.51      0.00      0.00     47.45

10:32:03 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:32:04 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:32:03 PM  active/s passive/s    iseg/s    oseg/s
10:32:04 PM      0.00      1.00   1612.00   3030.00

10:32:04 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:05 PM     all     51.26      0.00      1.01      0.00      0.00     47.74

10:32:04 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:32:05 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:32:04 PM  active/s passive/s    iseg/s    oseg/s
10:32:05 PM      0.00      0.00   1961.00   3054.00

10:32:05 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:06 PM     all     51.26      0.00      1.01      0.00      0.00     47.74

10:32:05 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:32:06 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:32:05 PM  active/s passive/s    iseg/s    oseg/s
10:32:06 PM      0.00      0.00   1596.00   3017.00

10:32:06 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:07 PM     all     50.75      0.00      1.51      0.00      0.00     47.74

10:32:06 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:32:07 PM  dev259-0      9.00      0.00     72.00      8.00      0.00      0.00      0.00      0.00

10:32:08 PM  active/s passive/s    iseg/s    oseg/s
10:32:09 PM      0.00      0.00   1968.00   3070.00

10:32:09 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:10 PM     all     51.00      0.00      1.50      0.00      0.00     47.50

10:32:09 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:32:10 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:32:09 PM  active/s passive/s    iseg/s    oseg/s
10:32:10 PM      0.00      0.00   1584.00   3033.00

10:32:10 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:11 PM     all     51.01      0.00      1.52      0.00      0.00     47.47

10:32:10 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:32:11 PM  dev259-0      1.00      0.00     88.00     88.00      0.00      0.00      0.00      0.00

10:32:10 PM  active/s passive/s    iseg/s    oseg/s
10:32:11 PM      0.00      0.00   1557.00   3042.00

10:32:11 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:12 PM     all     51.01      0.00      1.52      0.00      0.00     47.47


10:32:14 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:15 PM     all     51.52      0.00      1.01      0.00      0.00     47.47

10:32:14 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:32:15 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:32:14 PM  active/s passive/s    iseg/s    oseg/s
10:32:15 PM      0.00      0.00   1564.00   3073.00

10:32:15 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:16 PM     all     51.01      0.00      1.52      0.00      0.00     47.47

10:32:15 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:32:16 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

10:32:15 PM  active/s passive/s    iseg/s    oseg/s
10:32:16 PM      0.00      0.00   2045.00   3111.00

10:32:16 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
10:32:17 PM     all     51.01      0.00      1.01      0.00      0.00     47.98

10:32:16 PM       DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
10:32:17 PM  dev259-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

SYS/broker/version mosquitto version 1.4.15
$SYS/broker/timestamp Wed, 28 Feb 2018 11:29:47 +0000
$SYS/broker/uptime 16687 seconds
$SYS/broker/clients/total 241
$SYS/broker/clients/maximum 418
$SYS/broker/clients/inactive 0
$SYS/broker/clients/disconnected 0
$SYS/broker/clients/active 241
$SYS/broker/clients/connected 241
$SYS/broker/clients/expired 0
$SYS/broker/messages/stored 21492
$SYS/broker/messages/received 7408401
$SYS/broker/messages/sent 9188984
$SYS/broker/subscriptions/count 4
$SYS/broker/retained messages/count 19811
$SYS/broker/heap/current 12240960
$SYS/broker/heap/maximum 39608344
$SYS/broker/publish/messages/dropped 0
$SYS/broker/publish/messages/received 151342
$SYS/broker/publish/messages/sent 1782718
$SYS/broker/publish/bytes/received 556755844
$SYS/broker/publish/bytes/sent 606558003
$SYS/broker/bytes/received 916103101
$SYS/broker/bytes/sent 331277435
$SYS/broker/connection/b827eb43623a_broker/state 1
$SYS/broker/load/messages/received/1min 19900.88
$SYS/broker/load/messages/received/5min 9254.66
$SYS/broker/load/messages/received/15min 14467.72
$SYS/broker/load/messages/sent/1min 32638.56
$SYS/broker/load/messages/sent/5min 16730.35
$SYS/broker/load/messages/sent/15min 21914.08
$SYS/broker/load/publish/sent/1min 12737.69
$SYS/broker/load/publish/sent/5min 7482.13
$SYS/broker/load/publish/sent/15min 7459.79
$SYS/broker/load/publish/received/1min 0.05
$SYS/broker/load/publish/received/5min 0.28
$SYS/broker/load/publish/received/15min 0.82
$SYS/broker/load/bytes/received/1min 2313572.76
$SYS/broker/load/bytes/received/5min 1070186.02
$SYS/broker/load/bytes/received/15min 1663964.75
$SYS/broker/load/bytes/sent/1min 2233689.31
$SYS/broker/load/bytes/sent/5min 1302362.50
$SYS/broker/load/bytes/sent/15min 1318983.76
$SYS/broker/load/sockets/1min 206.99
$SYS/broker/load/sockets/5min 55.32
$SYS/broker/load/sockets/15min 37.71
$SYS/broker/load/connections/1min 206.99
$SYS/broker/load/connections/5min 55.32
$SYS/broker/load/connections/15min 37.71
$SYS/broker/uptime 16698 seconds
$SYS/broker/clients/total 253
$SYS/broker/clients/active 253
$SYS/broker/clients/connected 253
$SYS/broker/load/messages/received/1min 31125.99
$SYS/broker/load/messages/sent/1min 41897.20
$SYS/broker/load/publish/sent/1min 10771.21
$SYS/broker/load/bytes/received/1min 3585858.02
$SYS/broker/load/bytes/sent/1min 1940489.98
$SYS/broker/load/sockets/1min 183.28
$SYS/broker/load/connections/1min 183.28
$SYS/broker/load/messages/received/5min 12050.56
$SYS/broker/load/messages/sent/5min 19293.03
$SYS/broker/load/publish/sent/5min 7248.69
$SYS/broker/load/bytes/received/5min 1388401.86
$SYS/broker/load/bytes/sent/5min 1272875.70
$SYS/broker/load/sockets/5min 55.69
$SYS/broker/load/connections/5min 55.69
$SYS/broker/load/messages/received/15min 15347.77
$SYS/broker/load/messages/sent/15min 22715.80
$SYS/broker/load/publish/sent/15min 7381.30
$SYS/broker/load/bytes/received/15min 1764122.61
$SYS/broker/load/bytes/sent/15min 1308832.54
$SYS/broker/load/sockets/15min 38.05
$SYS/broker/load/connections/15min 38.05
$SYS/broker/messages/stored 21560
$SYS/broker/subscriptions/count 5
$SYS/broker/retained messages/count 19879

Analysis of the results:

First taking a look at the comparisons between the CPU usages for the different testing loads the the differences become immediately obvious. For our min load the %user, or CPU utilization, was varying around 35% while around 60% of the CPU was idle throughout. When looking at the load test for our maximum threshold, the %user varied more around 50% while only about 50% of the CPU remained idle. For our failing load our CPU usage was comparable to our max load CPU usage. This is probably because after reaching the max threshold the CPU usage saturated and was unable to increase any further. 

Our disk usage at each of the three test points does not help for any analyses.

Next, looking at our network data, for the minimum load the total number of segements sent per second, oseg, was around 700. This number is was far below our max load oseg values around 1500. Finally the oseg value for our failed load varied around 3000. This high value shows that the load testing was still trying to send more messages, but as shown through our testing data, the system could not support such high volumes. 

With regards to our mosquitto $SYS endpoints, a comparison can be made between the different loads and their amount of connections. The minimum load shows that around 50 connections were made for the last minute while at one point for the failing load there was about 150 connections in the last minute. Although this number is larger, at a hatch rate of 15/s, a higher number would be expected for the failing load. It was not able to continue to rise because of the fail in connections, while the min load was consistent at 1 hatch/sec. One other important health metric was the socket count. The minimum load socket count was around 60 while the max load and failing load socket count was upwards of 100. This shows that an increase in load past our max load did not open additional sockets that could connect to our broker. A metric that is not too important for us to analyze tis the messages/pblish sent/recieved. The numbers do not vary much and do not give us any additional information.
